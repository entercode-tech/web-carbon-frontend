import{S as i}from"./sweetalert2.all-0a01f69a.js";import{e as r,h as c,o as h,c as f,w as _,a as d,g as s}from"./index-ca22cfac.js";import{L as g}from"./LayoutGuest-2e106288.js";import{B as v}from"./bg-2-71df06d0.js";import{N as I}from"./Navbar-0ece169a.js";import{I as N}from"./Input-3829e9d8.js";import{C as B}from"./Carousel-48d329b3.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import"./logo COP28-c10641a4.js";const x={data(){return{BackgroundImage:v,apiDomain:"https://carbon.koersi.id",guestId:"",guest:"",firstName:"",lastName:"",email:"",phoneNumber:"",postcardId:"",dataPostcard:[],amount:0,step:1}},components:{LayoutGuest:g,InputDynamic:N,Carousel:B,NavBar:I},methods:{redirectToFormUser(){const t=localStorage.getItem("dataUser");if(t){const e=JSON.parse(t).data;this.guestId=e.id,this.firstName=e.first_name,this.lastName=e.last_name,this.email=e.email,this.phoneNumber="08",this.amount=0}},onPayment(){const t={};t.guest_id=this.guestId,t.postcard_id=this.postcardId,t.currency="IDR",r.post(`${this.apiDomain}/api/v1/donations`,t).then(e=>{const a=e.data.data;i.fire({icon:"success",title:"Success!",text:"Data has been saved successfully",confirmButtonColor:"#3085d6",confirmButtonText:"OK"}).then(n=>{n.isConfirmed&&(window.location.href=a)})}).catch(e=>{let a="An error occurred";e.message&&(a=e.message),i.fire({icon:"error",title:"Error!",text:a})})},onSelectPostcard(t){this.postcardId=t.id,this.onPayment()}},mounted(){r.get(`${this.apiDomain}/api/v1/guests`).then(t=>{this.guest=t.data.data}),r.get(`${this.apiDomain}/api/v1/postcards`).then(t=>{this.dataPostcard=t.data.data})},created(){this.redirectToFormUser()}},y=["src"],C=s("div",{class:"mod-bg"},null,-1),S={class:"flex justify-center mb-4 mt-[25%] md:mt-[7%]"},w={class:"text-left p-10 z-10 rounded-lg w-[80%]"};function D(t,e,a,n,o,m){const l=c("NavBar"),u=c("Carousel"),p=c("LayoutGuest");return h(),f(p,null,{default:_(()=>[d(l),s("img",{src:o.BackgroundImage,class:"fixed w-screen h-screen top-0 left-0 w-full h-full object-cover",alt:""},null,8,y),C,s("div",S,[s("div",w,[s("div",null,[d(u,{guest:o.guest,dataPostcard:o.dataPostcard,onOnSelectPostcard:m.onSelectPostcard},null,8,["guest","dataPostcard","onOnSelectPostcard"])])])])]),_:1})}const F=P(x,[["render",D]]);export{F as default};
