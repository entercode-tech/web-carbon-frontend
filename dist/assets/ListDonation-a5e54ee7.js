import{_ as f,e as b,h as i,o as r,c as g,w as c,a as u,g as t,f as h,E as S,F as x,t as e}from"./index-49d02188.js";import{_ as w,a as y}from"./LayoutAuthenticated-7afe9e55.js";import{M}from"./Modal-0cc53ac8.js";import"./FormControl-7a35efc7.js";import"./BaseIcon-c01bd735.js";import"./logo COP28-c10641a4.js";/* empty css                                                              */const k={data(){return{apiDomain:"https://carbon.koersi.id",modalShow:!1,fileSelect:"",dataUser:[]}},components:{SectionMain:w,LayoutAuthenticated:y,ModalPopup:M},created(){this.fetchUserData()},methods:{async fetchUserData(){try{const a=localStorage.getItem("access_token"),n=await b.get(`${this.apiDomain}/api/v1/donations`,{headers:{Authorization:`Bearer ${a}`}});n.status===200?this.dataUser=n.data.data:console.error("Failed to fetch dataUser")}catch(a){console.error("An error occurred while fetching dataUser:",a)}},openModal(){this.modalShow=!this.modalShow},onSelect(a){this.fileSelect=a,this.openModal()}}},D=t("h1",{class:"text-xl md:text-3xl font-semibold"}," List Donation ",-1),v={class:"border-[1px] border-[#cccccc] rounded-md p-4 mt-6"},C={class:"table-auto"},L=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Order Id"),t("th",null,"Donor"),t("th",null,"Email"),t("th",null,"Location"),t("th",null,"Amount"),t("th",null,"Status"),t("th",null,"Post Card")])],-1),U=["onClick"],A={class:"p-4"},P=["src"],B={class:"flex mt-8 justify-end"};function E(a,n,F,V,s,l){const m=i("SectionMain"),_=i("ModalPopup"),p=i("LayoutAuthenticated");return r(),g(p,null,{default:c(()=>[u(m,null,{default:c(()=>[D,t("div",v,[t("table",C,[L,t("tbody",null,[(r(!0),h(x,null,S(s.dataUser,(o,d)=>(r(),h("tr",{key:d},[t("td",null,e(d+1),1),t("td",null,e(o.order_id),1),t("td",null,e(o.guest.first_name)+" "+e(o.guest.last_name),1),t("td",null,e(o.guest.email),1),t("td",null,e(o.guest.location),1),t("td",null,e(o.amount),1),t("td",null,e(o.status),1),t("td",null,[t("button",{class:"bg-[#476b6b] text-white px-8 py-2 rounded-md font-medium hover:bg-[#223d3d] transition duration-300 ease-in-out",onClick:$=>l.onSelect(o.postcard.file_carbon_path)}," View ",8,U)])]))),128))])])])]),_:1}),u(_,{show:s.modalShow},{default:c(()=>[t("div",A,[t("img",{src:s.fileSelect,alt:"Photo Postcard"},null,8,P),t("div",B,[t("button",{onClick:n[0]||(n[0]=(...o)=>l.openModal&&l.openModal(...o)),class:"bg-red-500 text-white px-4 py-2 mr-3 rounded"},"Close")])])]),_:1},8,["show"])]),_:1})}const H=f(k,[["render",E]]);export{H as default};
