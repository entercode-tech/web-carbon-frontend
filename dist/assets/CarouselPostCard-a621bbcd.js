import{S as n}from"./sweetalert2.all-3ec86b82.js";import{e as d,h as o,o as f,c as _,w as g,a as l,g as s,t as r}from"./index-78c8a46f.js";import{L as x}from"./LayoutGuest-6d3e479b.js";import{B as N}from"./bg-2-71df06d0.js";import{N as P}from"./Navbar-eda3fb58.js";import{I as v}from"./Input-dc2de20b.js";import{C as I}from"./Carousel-8088d8f7.js";import{_ as y}from"./_plugin-vue_export-helper-c27b6911.js";import"./logo COP28-c10641a4.js";const B={data(){return{BackgroundImage:N,apiDomain:"https://carbon.koersi.id",guestId:"",firstName:"",lastName:"",email:"",phoneNumber:"",postcardId:"",dataPostcard:[],amount:0,step:1}},components:{LayoutGuest:x,InputDynamic:v,Carousel:I,NavBar:P},methods:{redirectToFormUser(){const t=localStorage.getItem("dataUser");if(t){const e=JSON.parse(t).data;this.guestId=e.id,this.firstName=e.first_name,this.lastName=e.last_name,this.email=e.email,this.phoneNumber="08",this.amount=0}},onPayment(){const t={};t.guest_id=this.guestId,t.postcard_id=this.postcardId,t.currency="IDR",d.post(`${this.apiDomain}/api/v1/donations`,t).then(e=>{const a=e.data.data;n.fire({icon:"success",title:"Success!",text:"Data has been saved successfully",confirmButtonColor:"#3085d6",confirmButtonText:"OK"}).then(c=>{c.isConfirmed&&(window.location.href=a)})}).catch(e=>{let a="An error occurred";e.message&&(a=e.message),n.fire({icon:"error",title:"Error!",text:a})})},onSelectPostcard(t){this.postcardId=t.id,this.onPayment()}},mounted(){d.get(`${this.apiDomain}/api/v1/postcards`).then(t=>{this.dataPostcard=t.data.data})},created(){this.redirectToFormUser()}},C=["src"],b={class:"flex justify-center mb-4 mt-[25%] md:mt-[7%]"},S={class:"bg-white text-left p-10 z-10 rounded-lg bg-opacity-70 backdrop-blur-2xl w-[80%]"},w={class:"flex items-center"},D={class:"header text-left"},k={class:"text-2xl font-bold text-[#2e2e2e]"},$={class:"text-sm text-[#2e2e2e] mt-1"};function L(t,e,a,c,i,m){const u=o("NavBar"),p=o("Carousel"),h=o("LayoutGuest");return f(),_(h,null,{default:g(()=>[l(u),s("img",{src:i.BackgroundImage,class:"fixed w-screen h-screen top-0 left-0 w-full h-full object-cover",alt:""},null,8,C),s("div",b,[s("div",S,[s("div",w,[s("div",D,[s("h1",k,r(t.$t("allPostCard.title"))+" "+r(this.firstName+" "+this.lastName),1),s("p",$,r(t.$t("allPostCard.description")),1)])]),s("div",null,[l(p,{dataPostcard:i.dataPostcard,onOnSelectPostcard:m.onSelectPostcard},null,8,["dataPostcard","onOnSelectPostcard"])])])])]),_:1})}const E=y(B,[["render",L]]);export{E as default};
