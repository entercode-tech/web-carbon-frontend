import{_ as v,e as d,h as l,o as c,c as k,w as b,a as u,g as e,f as p,E as F,F as w,t as y,y as B,z as L}from"./index-2ebcd10d.js";import{L as S}from"./LayoutGuest-7bc8394d.js";import{L as C,a as I,N as D}from"./Navbar-96495647.js";/* empty css                                                              */import{I as P}from"./Input-1ea8aef3.js";import{S as n}from"./sweetalert2.all-1989263f.js";import{B as M}from"./bg-2-71df06d0.js";import{B as h,a as E,b as q,c as H,F as K}from"./Frame-221ebdd1.js";import{L as N}from"./logo COP28-c10641a4.js";const V={data(){return{apiDomain:"https://carbon.koersi.id",backgroundImages:[h,E,q,H],LogoKLHK:C,LogoIndonesia:I,LogoCop28:N,BackgroundPrimary:h,BackgroundImage:M,FramePostcard:K,sharePostcard:null,email:"",dataPostcard:[],uniq:"",selectFile:[],isSave:!1,modalShow:!1,allIncludeFile:[]}},components:{LayoutGuest:S,InputDynamic:P,NavBar:D},mounted(){const r=this.$route.params.code;d.get(`${this.apiDomain}/api/v1/included-files`).then(t=>{this.allIncludeFile=t.data.data}),d.get(`${this.apiDomain}/api/v1/postcards?code=${r}`).then(t=>{console.log(t.data.data),t.data.data.length>0?(this.dataPostcard=t.data.data[0],this.uniq=t.data.data[0].uniq_id):n.fire({icon:"error",title:"Error!",text:"Postcard not found"})}).catch(t=>{let a="An error occurred";t.message&&(a=t.message),n.fire({icon:"error",title:"Error!",text:a})})},methods:{async onSend(){const r=this.uniq;let t=document.querySelector(".in-load");t.innerHTML+='<i class="ml-2 fa-solid fa-circle-notch load"></i>';const a={};a.included_files=this.selectFile,d.post(`${this.apiDomain}/api/v1/postcards/${r}/send-email`,a).then(i=>{n.fire({icon:"success",title:"Success!",text:"Data has been sended successfully",confirmButtonColor:"#3085d6",confirmButtonText:"OK"}).then(o=>{o.isConfirmed&&this.$router.push("/")})}).catch(i=>{t.innerHTML="Send";let o="An error occurred";i.message&&(o=i.message),n.fire({icon:"error",title:"Error!",text:o})}),this.modalShow=!this.modalShow}}},T=["src"],j={class:"flex justify-center mb-4 mt-[25%] md:mt-[7%]"},G={class:"resp-box bg-white text-center p-10 z-10 rounded-lg bg-opacity-70 backdrop-blur-2xl w-[80%]"},$=e("div",{class:"flex items-center"},[e("div",{class:"bg-[#163331] p-2 rounded-full mr-4"},[e("svg",{width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4 7C4 5.11438 4 4.17157 4.58579 3.58579C5.17157 3 6.11438 3 8 3H16C17.8856 3 18.8284 3 19.4142 3.58579C20 4.17157 20 5.11438 20 7V15C20 17.8284 20 19.2426 19.1213 20.1213C18.2426 21 16.8284 21 14 21H10C7.17157 21 5.75736 21 4.87868 20.1213C4 19.2426 4 17.8284 4 15V7Z",stroke:"#FFF","stroke-width":"2"}),e("path",{d:"M15 18L15 21M9 18L9 21",stroke:"#FFF","stroke-width":"2","stroke-linecap":"round"}),e("path",{d:"M9 8L15 8",stroke:"#FFF","stroke-width":"2","stroke-linecap":"round"}),e("path",{d:"M9 12L15 12",stroke:"#FFF","stroke-width":"2","stroke-linecap":"round"})])]),e("div",{class:"header text-left"},[e("h1",{class:"text-md md:text-2xl font-bold text-[#2e2e2e]"},"Share Postcard"),e("p",{class:"text-xs md:text-sm text-[#2e2e2e] mt-1"},"Send your postcard to yourself or to your friend.")])],-1),z={class:"content mt-10 text-left"},A={class:"grid grid-cols-1 gap-4 mt-4"},U={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-10"},O={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Z={class:"bg-transparent border-[1px] border-gray-300 bg-white bg-opacity-50 rounded-md h-40 relative"},J=["src"],Q={class:"text-sm mt-4 text-center font-normal"},R=["value"];function W(r,t,a,i,o,m){const g=l("NavBar"),f=l("InputDynamic"),_=l("LayoutGuest");return c(),k(_,null,{default:b(()=>[u(g),e("img",{src:o.BackgroundImage,class:"fixed w-screen h-screen top-0 left-0 w-full h-full object-cover",alt:""},null,8,T),e("div",j,[e("div",G,[$,e("div",z,[e("div",A,[u(f,{placeholder:"Email ?",label:"Email",value:o.email,inputId:"emailInput",type:"email",required:!0,onValueUpdated:t[0]||(t[0]=s=>o.email=s)},null,8,["value"])]),e("div",U,[e("div",null,[e("div",O,[(c(!0),p(w,null,F(o.allIncludeFile,s=>(c(),p("div",{key:s.id},[e("div",Z,[e("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/PDF_file_icon.svg/1667px-PDF_file_icon.svg.png",class:"mx-auto h-20 mt-4 object-cover",alt:""},null,8,J),e("h2",Q,y(s.name),1),B(e("input",{type:"checkbox",value:s.id,"onUpdate:modelValue":t[1]||(t[1]=x=>o.selectFile=x),class:"absolute top-0 left-0 border-[#ccccc] rounded-sm"},null,8,R),[[L,o.selectFile]])])]))),128))])])]),e("button",{class:"in-load bg-[#476b6b] text-white px-8 mt-4 py-2 rounded-md font-medium hover:bg-[#223d3d] transition duration-300 ease-in-out",onClick:t[2]||(t[2]=(...s)=>m.onSend&&m.onSend(...s))}," Send ")])])])]),_:1})}const ne=v(V,[["render",W]]);export{ne as default};
