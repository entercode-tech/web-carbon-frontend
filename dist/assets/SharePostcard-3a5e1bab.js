import{e as d,h as l,o as c,c as v,w as b,a as u,g as e,f as p,E as k,F,t as w,y,z as B}from"./index-9befcfb3.js";import{L}from"./LayoutGuest-b71b6425.js";import{L as S,a as C,N as I}from"./Navbar-1419862b.js";/* empty css                                                              */import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";import{I as P}from"./Input-f6986d77.js";import{S as n}from"./sweetalert2.all-aa963bce.js";import{B as M}from"./bg-2-71df06d0.js";import{L as E}from"./logo COP28-c10641a4.js";import{F as q}from"./Frame-858db163.js";const h="/assets/Tiger-9c530a3a.png",K="/assets/Elephant-133798a8.png",H="/assets/Komodo-802864c4.png",N="/assets/Bird-cb5056ad.png",V={data(){return{apiDomain:"https://carbon.koersi.id",backgroundImages:[h,K,N,H],LogoKLHK:S,LogoIndonesia:C,LogoCop28:E,BackgroundPrimary:h,BackgroundImage:M,FramePostcard:q,sharePostcard:null,email:"",dataPostcard:[],uniq:"",selectFile:[],isSave:!1,modalShow:!1,allIncludeFile:[]}},components:{LayoutGuest:L,InputDynamic:P,NavBar:I},mounted(){const r=this.$route.params.code;d.get(`${this.apiDomain}/api/v1/included-files`).then(t=>{this.allIncludeFile=t.data.data}),d.get(`${this.apiDomain}/api/v1/postcards?code=${r}`).then(t=>{console.log(t.data.data),t.data.data.length>0?(this.dataPostcard=t.data.data[0],this.uniq=t.data.data[0].uniq_id):n.fire({icon:"error",title:"Error!",text:"Postcard not found"})}).catch(t=>{let a="An error occurred";t.message&&(a=t.message),n.fire({icon:"error",title:"Error!",text:a})})},methods:{async onSend(){const r=this.uniq;let t=document.querySelector(".in-load");t.disable=!0,t.innerHTML='Send <i class="ml-2 fa-solid fa-circle-notch load"></i>';const a={};a.included_files=this.selectFile,d.post(`${this.apiDomain}/api/v1/postcards/${r}/send-email`,a).then(i=>{n.fire({icon:"success",title:"Success!",text:"Data has been sended successfully",confirmButtonColor:"#3085d6",confirmButtonText:"OK"}).then(o=>{o.isConfirmed&&this.$router.push("/")})}).catch(i=>{t.innerHTML="Send",t.disable=!1;let o="An error occurred";i.message&&(o=i.message),n.fire({icon:"error",title:"Error!",text:o})}),this.modalShow=!this.modalShow}}},T=["src"],j={class:"flex justify-center mb-4 mt-[25%] md:mt-[7%]"},G={class:"resp-box bg-white text-center p-10 z-10 rounded-lg bg-opacity-70 backdrop-blur-2xl w-[80%]"},z=e("div",{class:"flex items-center"},[e("div",{class:"bg-[#163331] p-2 rounded-full mr-4"},[e("svg",{width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4 7C4 5.11438 4 4.17157 4.58579 3.58579C5.17157 3 6.11438 3 8 3H16C17.8856 3 18.8284 3 19.4142 3.58579C20 4.17157 20 5.11438 20 7V15C20 17.8284 20 19.2426 19.1213 20.1213C18.2426 21 16.8284 21 14 21H10C7.17157 21 5.75736 21 4.87868 20.1213C4 19.2426 4 17.8284 4 15V7Z",stroke:"#FFF","stroke-width":"2"}),e("path",{d:"M15 18L15 21M9 18L9 21",stroke:"#FFF","stroke-width":"2","stroke-linecap":"round"}),e("path",{d:"M9 8L15 8",stroke:"#FFF","stroke-width":"2","stroke-linecap":"round"}),e("path",{d:"M9 12L15 12",stroke:"#FFF","stroke-width":"2","stroke-linecap":"round"})])]),e("div",{class:"header text-left"},[e("h1",{class:"text-md md:text-2xl font-bold text-[#2e2e2e]"},"Share Postcard"),e("p",{class:"text-xs md:text-sm text-[#2e2e2e] mt-1"},"Send your postcard to yourself or to your friend.")])],-1),A={class:"content mt-10 text-left"},U={class:"grid grid-cols-1 gap-4 mt-4"},$={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-10"},O=["src"],Z={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},J={class:"bg-transparent border-[1px] border-gray-300 bg-white bg-opacity-50 rounded-md h-40 relative"},Q=["src"],R={class:"text-sm mt-4 text-center font-normal"},W=["value"];function X(r,t,a,i,o,m){const g=l("NavBar"),f=l("InputDynamic"),_=l("LayoutGuest");return c(),v(_,null,{default:b(()=>[u(g),e("img",{src:o.BackgroundImage,class:"fixed w-screen h-screen top-0 left-0 w-full h-full object-cover",alt:""},null,8,T),e("div",j,[e("div",G,[z,e("div",A,[e("div",U,[u(f,{placeholder:"Email ?",label:"Email",value:o.email,inputId:"emailInput",type:"email",required:!0,onValueUpdated:t[0]||(t[0]=s=>o.email=s)},null,8,["value"])]),e("div",$,[e("div",null,[e("img",{src:o.dataPostcard.file_carbon_path,class:"rounded-lg",alt:""},null,8,O)]),e("div",null,[e("div",Z,[(c(!0),p(F,null,k(o.allIncludeFile,s=>(c(),p("div",{key:s.id},[e("div",J,[e("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/PDF_file_icon.svg/1667px-PDF_file_icon.svg.png",class:"mx-auto h-20 mt-4 object-cover",alt:""},null,8,Q),e("h2",R,w(s.name),1),y(e("input",{type:"checkbox",value:s.id,"onUpdate:modelValue":t[1]||(t[1]=x=>o.selectFile=x),class:"absolute top-0 left-0 border-[#ccccc] rounded-sm"},null,8,W),[[B,o.selectFile]])])]))),128))])])]),e("button",{class:"in-load bg-[#476b6b] text-white px-8 mt-4 py-2 rounded-md font-medium hover:bg-[#223d3d] transition duration-300 ease-in-out",onClick:t[2]||(t[2]=(...s)=>m.onSend&&m.onSend(...s))}," Send ")])])])]),_:1})}const le=D(V,[["render",X]]);export{le as default};
