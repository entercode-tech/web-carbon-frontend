import{e as f,h as r,o as i,c as b,w as c,a as u,g as t,f as h,E as g,F as S,t as e}from"./index-8114488d.js";import{_ as x,a as w}from"./LayoutAuthenticated-b1f4b315.js";import{M as y}from"./Modal-d1229969.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";import"./FormControl-c6cbbb67.js";import"./BaseIcon-8e0e176c.js";import"./logo COP28-c10641a4.js";/* empty css                                                              */const k={data(){return{apiDomain:"https://carbon.koersi.id",modalShow:!1,fileSelect:"",dataUser:[]}},components:{SectionMain:x,LayoutAuthenticated:w,ModalPopup:y},created(){this.fetchUserData()},methods:{async fetchUserData(){try{const a=localStorage.getItem("access_token"),n=await f.get(`${this.apiDomain}/api/v1/donations`,{headers:{Authorization:`Bearer ${a}`}});n.status===200?this.dataUser=n.data.data:console.error("Failed to fetch dataUser")}catch(a){console.error("An error occurred while fetching dataUser:",a)}},openModal(){this.modalShow=!this.modalShow},onSelect(a){this.fileSelect=a,this.openModal()}}},D=t("h1",{class:"text-xl md:text-3xl font-semibold"}," List Donation ",-1),v={class:"border-[1px] border-[#cccccc] rounded-md p-4 mt-6"},C={class:"table-auto"},L=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Order Id"),t("th",null,"Donor"),t("th",null,"Email"),t("th",null,"Location"),t("th",null,"Amount"),t("th",null,"Status"),t("th",null,"Post Card")])],-1),U=["onClick"],A={class:"p-4"},P=["src"],B={class:"flex mt-8 justify-end"};function E(a,n,F,V,s,l){const m=r("SectionMain"),_=r("ModalPopup"),p=r("LayoutAuthenticated");return i(),b(p,null,{default:c(()=>[u(m,null,{default:c(()=>[D,t("div",v,[t("table",C,[L,t("tbody",null,[(i(!0),h(S,null,g(s.dataUser,(o,d)=>(i(),h("tr",{key:d},[t("td",null,e(d+1),1),t("td",null,e(o.order_id),1),t("td",null,e(o.guest.first_name)+" "+e(o.guest.last_name),1),t("td",null,e(o.guest.email),1),t("td",null,e(o.guest.location),1),t("td",null,e(o.amount),1),t("td",null,e(o.status),1),t("td",null,[t("button",{class:"bg-[#476b6b] text-white px-8 py-2 rounded-md font-medium hover:bg-[#223d3d] transition duration-300 ease-in-out",onClick:$=>l.onSelect(o.postcard.file_carbon_path)}," View ",8,U)])]))),128))])])])]),_:1}),u(_,{show:s.modalShow},{default:c(()=>[t("div",A,[t("img",{src:s.fileSelect,alt:"Photo Postcard"},null,8,P),t("div",B,[t("button",{onClick:n[0]||(n[0]=(...o)=>l.openModal&&l.openModal(...o)),class:"bg-red-500 text-white px-4 py-2 mr-3 rounded"},"Close")])])]),_:1},8,["show"])]),_:1})}const J=M(k,[["render",E]]);export{J as default};
