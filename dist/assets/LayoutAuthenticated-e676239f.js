import{o as n,f,H as b,n as r,d as c,a as o,w as p,g as v,ae as D,C as k,B as z,c as g,R as N,k as _,l as F,m as O,D as x,t as E,A as S,E as I,F as $,b as L,P as R,y as V,K as H,J,u as K}from"./index-2f48ba4c.js";import{x as G,y as W,z as Q,A as X,m as Y,B as Z,C as U,D as ee,E as te,o as q,F as ae,G as se,H as le,_ as ne,I as ie,J as re,K as oe}from"./FormControl-b48d1aa1.js";import{_ as h}from"./BaseIcon-2ac38189.js";import{L as ce}from"./logo COP28-37daee2c.js";const P="xl:max-w-6xl xl:mx-auto",Ue={__name:"SectionMain",setup(e){return(s,t)=>(n(),f("section",{class:r(["p-6",c(P)])},[b(s.$slots,"default")],2))}},ue={__name:"OverlayLayer",props:{zIndex:{type:String,default:"z-50"},type:{type:String,default:"flex"}},emits:["overlay-click"],setup(e,{emit:s}){const t=a=>{s("overlay-click",a)};return(a,l)=>(n(),f("div",{class:r([[e.type,e.zIndex],"items-center flex-col justify-center overflow-hidden fixed inset-0"])},[o(D,{"enter-active-class":"transition duration-150 ease-in","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:p(()=>[v("div",{class:"overlay absolute inset-0 bg-gradient-to-tr opacity-90 dark:from-gray-700 dark:via-gray-900 dark:to-gray-700",onClick:t})]),_:1}),o(D,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"animate-fade-out"},{default:p(()=>[b(a.$slots,"default")]),_:3})],2))}},de=["src","alt"],me={__name:"UserAvatar",props:{username:{type:String,required:!0},avatar:{type:String,default:null},api:{type:String,default:"avataaars"}},setup(e){const s=e,t=k(()=>s.avatar??`https://api.dicebear.com/7.x/${s.api}/svg?seed=${s.username.replace(/[^a-z0-9]+/gi,"-")}.svg`),a=k(()=>s.username);return(l,i)=>(n(),f("div",null,[v("img",{src:t.value,alt:a.value,class:"rounded-full block h-auto w-full max-w-full bg-gray-100 dark:bg-slate-800"},null,8,de),b(l.$slots,"default")]))}},ve=[{to:"/dashboard",icon:G,label:"Dashboard"},{to:"/admin/list-user",label:"List User",icon:W},{to:"/admin/included-file",label:"Included File",icon:Q},{to:"/admin/template-postcard",label:"Template Postcard",icon:X}],fe=[{isCurrentUser:!0,menu:[{icon:Y,label:"My Profile",to:"/profile"},{isDivider:!0}]},{icon:Z,label:"Light/Dark",isDesktopNoLabel:!0,isToggleLightDark:!0},{icon:U,label:"Log out",isDesktopNoLabel:!0,isLogout:!0}],ge={__name:"UserAvatarCurrentUser",setup(e){const s=z();return(t,a)=>(n(),g(me,{username:c(s).userName,avatar:c(s).userAvatar},{default:p(()=>[b(t.$slots,"default")]),_:3},8,["username","avatar"]))}},pe={__name:"BaseDivider",props:{navBar:Boolean},setup(e){const s=e;return(t,a)=>(n(),f("hr",{class:r([s.navBar?"hidden lg:block lg:my-0.5 dark:border-slate-700":"my-6 -mx-6 dark:border-slate-800","border-t border-gray-100"])},null,2))}},ke={__name:"NavBarItem",props:{item:{type:Object,required:!0}},emits:["menu-click"],setup(e,{emit:s}){const t=e,a=k(()=>t.item.href?"a":t.item.to?N:"div"),l=k(()=>{const m=[u.value?"navbar-item-label-active dark:text-slate-400":"navbar-item-label dark:text-white dark:hover:text-slate-400",t.item.menu?"lg:py-2 lg:px-3":"py-2 px-3"];return t.item.isDesktopNoLabel&&m.push("lg:w-16","lg:justify-center"),m}),i=k(()=>t.item.isCurrentUser?z().userName:t.item.label),u=_(!1),d=m=>{s("menu-click",m,t.item),t.item.menu&&(u.value=!u.value)},y=(m,M)=>{s("menu-click",m,M)},C=_(null),A=m=>{C.value&&!C.value.contains(m.target)&&(u.value=!1)};return F(()=>{t.item.menu&&window.addEventListener("click",A)}),O(()=>{t.item.menu&&window.removeEventListener("click",A)}),(m,M)=>e.item.isDivider?(n(),g(pe,{key:0,"nav-bar":""})):(n(),g(S(a.value),{key:1,ref_key:"root",ref:C,class:r(["block lg:flex items-center relative cursor-pointer",l.value]),to:e.item.to??null,href:e.item.href??null,target:e.item.target??null,onClick:d},{default:p(()=>[v("div",{class:r(["flex items-center",{"bg-gray-100 dark:bg-slate-800 lg:bg-transparent lg:dark:bg-transparent p-3 lg:p-0":e.item.menu}])},[e.item.isCurrentUser?(n(),g(ge,{key:0,class:"w-6 h-6 mr-3 inline-flex"})):x("",!0),e.item.icon?(n(),g(h,{key:1,path:e.item.icon,class:"transition-colors"},null,8,["path"])):x("",!0),v("span",{class:r(["px-2 transition-colors",{"lg:hidden":e.item.isDesktopNoLabel&&e.item.icon}])},E(i.value),3),e.item.menu?(n(),g(h,{key:2,path:u.value?c(ee):c(te),class:"hidden lg:inline-flex transition-colors"},null,8,["path"])):x("",!0)],2),e.item.menu?(n(),f("div",{key:0,class:r(["text-sm border-b border-gray-100 lg:border lg:bg-white lg:absolute lg:top-full lg:left-0 lg:min-w-full lg:z-20 lg:rounded-lg lg:shadow-lg lg:dark:bg-slate-800 dark:border-slate-700",{"lg:hidden":!u.value}])},[o(T,{menu:e.item.menu,onMenuClick:y},null,8,["menu"])],2)):x("",!0)]),_:1},8,["class","to","href","target"]))}},T={__name:"NavBarMenuList",props:{menu:{type:Array,default:()=>[]}},emits:["menu-click"],setup(e,{emit:s}){const t=(a,l)=>{s("menu-click",a,l)};return(a,l)=>(n(!0),f($,null,I(e.menu,(i,u)=>(n(),g(ke,{key:u,item:i,onMenuClick:t},null,8,["item"]))),128))}},w={__name:"NavBarItemPlain",props:{display:{type:String,default:"flex"},useMargin:Boolean},setup(e){return(s,t)=>(n(),f("div",{class:r([[e.display,e.useMargin?"my-2 mx-3":"py-2 px-3"],"navbar-item-label items-center cursor-pointer dark:text-white dark:hover:text-slate-400"])},[b(s.$slots,"default")],2))}},he={class:"top-0 inset-x-0 fixed bg-gray-50 h-14 z-30 transition-position w-screen lg:w-auto dark:bg-slate-800"},xe={class:"flex flex-1 items-stretch h-14"},be={class:"flex-none items-stretch flex h-14 lg:hidden"},ye={__name:"NavBar",props:{menu:{type:Array,required:!0}},emits:["menu-click"],setup(e,{emit:s}){const t=(l,i)=>{s("menu-click",l,i)},a=_(!1);return(l,i)=>(n(),f("nav",he,[v("div",{class:r(["flex lg:items-stretch",c(P)])},[v("div",xe,[b(l.$slots,"default")]),v("div",be,[o(w,{onClick:i[0]||(i[0]=L(u=>a.value=!a.value,["prevent"]))},{default:p(()=>[o(h,{path:a.value?c(q):c(ae),size:"24"},null,8,["path"])]),_:1})]),v("div",{class:r(["max-h-screen-menu overflow-y-auto lg:overflow-visible absolute w-screen top-14 left-0 bg-gray-50 shadow-lg lg:w-auto lg:flex lg:static lg:shadow-none dark:bg-slate-800",[a.value?"block":"hidden"]])},[o(T,{menu:e.menu,onMenuClick:t},null,8,["menu"])],2)],2)]))}},Ce={__name:"AsideMenuItem",props:{item:{type:Object,required:!0},isDropdownList:Boolean},emits:["menu-click"],setup(e,{emit:s}){const t=e,a=k(()=>t.item&&t.item.color),l=k(()=>a.value?"":"aside-menu-item-active font-bold"),i=_(!1),u=k(()=>[t.isDropdownList?"py-3 px-6 text-sm":"py-3",a.value?R(t.item.color,!1,!0):"aside-menu-item dark:text-slate-300 dark:hover:text-white"]),d=k(()=>!!t.item.menu),y=C=>{s("menu-click",C,t.item),d.value&&(i.value=!i.value)};return(C,A)=>(n(),f("li",null,[(n(),g(S(e.item.to?c(N):"a"),{to:e.item.to??null,href:e.item.href??null,target:e.item.target??null,class:r(["flex cursor-pointer",u.value]),onClick:y},{default:p(m=>[e.item.icon?(n(),g(h,{key:0,path:e.item.icon,class:r(["flex-none text-[#CCCCCC] hover:text-black",[m&&m.isExactActive?l.value:""]]),w:"w-16",size:18},null,8,["path","class"])):x("",!0),v("span",{class:r(["grow text-ellipsis line-clamp-1 text-[#CCCCCC] hover:text-black",[{"pr-12":!d.value},m&&m.isExactActive?l.value:""]])},E(e.item.label),3),d.value?(n(),g(h,{key:1,path:i.value?c(se):c(le),class:r(["flex-none",[m&&m.isExactActive?l.value:""]]),w:"w-12"},null,8,["path","class"])):x("",!0)]),_:1},8,["to","href","target","class"])),d.value?(n(),g(j,{key:0,menu:e.item.menu,class:r(["aside-menu-dropdown",i.value?"block dark:bg-slate-800/50":"hidden"]),"is-dropdown-list":""},null,8,["menu","class"])):x("",!0)]))}},j={__name:"AsideMenuList",props:{isDropdownList:Boolean,menu:{type:Array,required:!0}},emits:["menu-click"],setup(e,{emit:s}){const t=(a,l)=>{s("menu-click",a,l)};return(a,l)=>(n(),f("ul",null,[(n(!0),f($,null,I(e.menu,(i,u)=>(n(),g(Ce,{key:u,item:i,"is-dropdown-list":e.isDropdownList,onMenuClick:t},null,8,["item","is-dropdown-list"]))),128))]))}},_e={id:"aside",class:"lg:py-2 lg:pl-2 w-60 fixed flex z-40 top-0 h-screen transition-position overflow-hidden"},we={class:"aside lg:rounded-2xl flex-1 flex flex-col overflow-hidden dark:bg-slate-900 border-[1px] border-[#ccccc]"},Le={class:"aside-brand flex flex-row h-14 items-center justify-between dark:bg-slate-900"},Ae={class:"text-center flex-1 lg:text-left lg:pl-6 xl:text-center xl:pl-0"},$e=["src"],Me=["onClick"],De={class:"flex-1 overflow-y-auto overflow-x-hidden aside-scrollbars dark:aside-scrollbars-[slate]"},Be={__name:"AsideMenuLayer",props:{menu:{type:Array,required:!0}},emits:["menu-click","aside-lg-close-click"],setup(e,{emit:s}){k(()=>({label:"Logout",icon:U,color:"info",isLogout:!0}));const t=(l,i)=>{s("menu-click",l,i)},a=l=>{s("aside-lg-close-click",l)};return(l,i)=>(n(),f("aside",_e,[v("div",we,[v("div",Le,[v("div",Ae,[v("img",{src:c(ce),class:"mx-auto rounded-md h-[40px]",alt:""},null,8,$e)]),v("button",{class:"hidden lg:inline-block xl:hidden p-3",onClick:L(a,["prevent"])},[o(h,{path:c(q)},null,8,["path"])],8,Me)]),v("div",De,[o(j,{menu:e.menu,onMenuClick:t},null,8,["menu"])])])]))}},ze={__name:"AsideMenu",props:{menu:{type:Array,required:!0},isAsideMobileExpanded:Boolean,isAsideLgActive:Boolean},emits:["menu-click","aside-lg-close-click"],setup(e,{emit:s}){const t=(l,i)=>{s("menu-click",l,i)},a=l=>{s("aside-lg-close-click",l)};return(l,i)=>(n(),f($,null,[o(Be,{menu:e.menu,class:r([e.isAsideMobileExpanded?"left-0":"-left-60 lg:left-0",{"lg:hidden xl:flex":!e.isAsideLgActive}]),onMenuClick:t,onAsideLgCloseClick:a},null,8,["menu","class"]),V(o(ue,{"z-index":"z-30",onOverlayClick:a},null,512),[[H,e.isAsideLgActive]])],64))}},B="xl:pl-60",qe={__name:"LayoutAuthenticated",setup(e){const s=J(),t=K(),a=_(!1),l=_(!1);t.beforeEach(()=>{a.value=!1,l.value=!1});const i=(u,d)=>{d.isToggleLightDark&&s.set(),d.isLogout&&(localStorage.removeItem("access_token"),t.push("/login"))};return(u,d)=>(n(),f("div",{class:r({"overflow-hidden lg:overflow-visible":a.value})},[v("div",{class:r([[B,{"ml-60 lg:ml-0":a.value}],"pt-14 min-h-screen w-screen transition-position lg:w-auto bg-gray-50 dark:bg-slate-800 dark:text-slate-100"])},[o(ye,{menu:c(fe),class:r([B,{"ml-60 lg:ml-0":a.value}]),onMenuClick:i},{default:p(()=>[o(w,{display:"flex lg:hidden",onClick:d[0]||(d[0]=L(y=>a.value=!a.value,["prevent"]))},{default:p(()=>[o(h,{path:a.value?c(ie):c(re),size:"24"},null,8,["path"])]),_:1}),o(w,{display:"hidden lg:flex xl:hidden",onClick:d[1]||(d[1]=L(y=>l.value=!0,["prevent"]))},{default:p(()=>[o(h,{path:c(oe),size:"24"},null,8,["path"])]),_:1}),o(w,{"use-margin":""},{default:p(()=>[o(ne,{placeholder:"Search (ctrl+k)","ctrl-k-focus":"",transparent:"",borderless:""})]),_:1})]),_:1},8,["menu","class"]),o(ze,{"is-aside-mobile-expanded":a.value,"is-aside-lg-active":l.value,menu:c(ve),onMenuClick:i,onAsideLgCloseClick:d[2]||(d[2]=y=>l.value=!1)},null,8,["is-aside-mobile-expanded","is-aside-lg-active","menu"]),b(u.$slots,"default")],2)],2))}};export{Ue as _,qe as a,me as b,pe as c,ge as d,ue as e};
